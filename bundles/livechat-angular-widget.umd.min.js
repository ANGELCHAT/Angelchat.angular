!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("@angular/core")):"function"==typeof define&&define.amd?define("@livechat/angular-widget",["exports","rxjs","@angular/core"],e):e((t.livechat=t.livechat||{},t.livechat["angular-widget"]={}),t.rxjs,t.ng.core)}(this,function(t,e,n){"use strict";var i=function(){function t(){this.onChatLoaded=new e.Subject,this.onAfterLoad=new e.Subject,this.onBeforeLoad=new e.Subject,this.onChatEnded=new e.Subject,this.onChatStarted=new e.Subject,this.onChatStateChanged=new e.Subject,this.onChatWindowHidden=new e.Subject,this.onChatWindowMinimized=new e.Subject,this.onChatWindowOpened=new e.Subject,this.onMessage=new e.Subject,this.onPostchatSurveySubmitted=new e.Subject,this.onPrechatSurveySubmitted=new e.Subject,this.onRatingCommentSubmitted=new e.Subject,this.onRatingSubmitted=new e.Subject,this.onTicketCreated=new e.Subject,this.onWidgetResize=new e.Subject}return t.prototype.ngOnInit=function(){var t=this;if(!window.LC_API){window.__lc=window.__lc||{},window.__lc.license=this.licenseId,window.__lc.group=this.group,window.__lc.chat_between_groups=this.chatBetweenGroups,window.__lc.params=this.params,window.__lc.visitor=this.visitor,window.__lc.ga_version=this.gaVersion;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cdn.livechatinc.com/tracking.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),e.addEventListener("load",function(){t._chatLoaded(window.LC_API)}),e.addEventListener("error",function(t){console.error(t)})}},t.prototype._chatLoaded=function(t){this._setCallbacks(t),this._setMethods(t),this.onChatLoaded.next(t)},t.prototype._setCallbacks=function(t){var e=this;t.on_after_load=function(){return e.onAfterLoad.next()},t.on_before_load=function(){return e.onBeforeLoad.next()},t.on_chat_ended=function(){return e.onChatEnded.next()},t.on_chat_started=function(t){return e.onChatStarted.next(t)},t.on_chat_state_changed=function(t){return e.onChatStateChanged.next(t)},t.on_chat_window_hidden=function(){return e.onChatWindowHidden.next()},t.on_chat_window_minimized=function(){return e.onChatWindowMinimized.next()},t.on_chat_window_opened=function(){return e.onChatWindowOpened.next()},t.on_message=function(t){return e.onMessage.next(t)},t.on_postchat_survey_submitted=function(t){return e.onPostchatSurveySubmitted.next(t)},t.on_prechat_survey_submitted=function(t){return e.onPrechatSurveySubmitted.next(t)},t.on_rating_comment_submitted=function(t){return e.onRatingCommentSubmitted.next(t)},t.on_rating_submitted=function(t){return e.onRatingSubmitted.next(t)},t.on_ticket_created=function(t){return e.onTicketCreated.next(t)}},t.prototype._setMethods=function(n){this.agentsAreAvailable=function(){return n.agents_are_available()},this.chatRunning=function(){return n.chat_running()},this.chatWindowHidden=function(){return n.chat_window_hidden()},this.chatWindowMaximized=function(){return n.chat_window_maximized()},this.chatWindowMinimized=function(){return n.chat_window_minimized()},this.closeChat=function(){return n.close_chat()},this.getChatId=function(){return n.get_chat_id()},this.getChatsNumber=function(){return n.get_chats_number()},this.getLastVisitTimestamp=function(){return n.get_last_visit_timestamp()},this.getPageViewsNumber=function(){return n.get_page_views_number()},this.getVisitorId=function(){return n.get_visitor_id()},this.getVisitsNumber=function(){return n.get_visits_number()},this.hideChatWindow=function(){return n.hide_chat_window()},this.minimizeChatWindow=function(){return n.minimize_chat_window()},this.openChatWindow=function(){return n.open_chat_window()},this.setCustomVariables=function(t){return n.set_custom_variables(t)},this.setVisitorEmail=function(t){return n.set_visitor_email(t)},this.setVisitorName=function(t){return n.set_visitor_name(t)},this.triggerSalesTracker=function(t,e){return n.trigger_sales_tracker(t,e)},this.updateCustomVariables=function(t){return n.update_custom_variables(t)},this.visitorEngaged=function(){return n.visitor_engaged()},this.visitorQueued=function(){return n.visitor_queued()}},t.decorators=[{type:n.Component,args:[{selector:"livechat-widget",template:""}]}],t.ctorParameters=function(){return[]},t.propDecorators={licenseId:[{type:n.Input}],group:[{type:n.Input}],chatBetweenGroups:[{type:n.Input}],params:[{type:n.Input}],visitor:[{type:n.Input}],gaVersion:[{type:n.Input}],onChatLoaded:[{type:n.Output}],onAfterLoad:[{type:n.Output}],onBeforeLoad:[{type:n.Output}],onChatEnded:[{type:n.Output}],onChatStarted:[{type:n.Output}],onChatStateChanged:[{type:n.Output}],onChatWindowHidden:[{type:n.Output}],onChatWindowMinimized:[{type:n.Output}],onChatWindowOpened:[{type:n.Output}],onMessage:[{type:n.Output}],onPostchatSurveySubmitted:[{type:n.Output}],onPrechatSurveySubmitted:[{type:n.Output}],onRatingCommentSubmitted:[{type:n.Output}],onRatingSubmitted:[{type:n.Output}],onTicketCreated:[{type:n.Output}],onWidgetResize:[{type:n.Output}]},t}(),o=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{imports:[],declarations:[i],exports:[i]}]}],t}();t.LivechatWidgetComponent=i,t.LivechatWidgetModule=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=livechat-angular-widget.umd.min.js.map